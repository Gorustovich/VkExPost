## VKExPost

Модуль VKExPost создан для простого подключения к API портала vk.com.
 
 На данный момент реализованы вызовы не всех методов API vk.com, разработка в процессе. 
 
 Вы сможете легко понять, какие методы уже реализованы, посмотрев в директорию Builder - там находятся все классы, каждый из которых отвечает за реализацию (построение) запроса к vk.
 
 Прочитав раздел "Реализация" вы можете легко реализовать свой билдер на основе информации о интерфейсе и самостоятельном изучении комментариев в модуле.
 
### Интерфейс
Использовать модуль предлагается через следующий интерфейс:

* основной фасад модуля, который предоставляет доступ ко всем объектам запросов - VkExPost

* создайте инстанс фасада

    `$api = VkExPost::create($token)`,  где $token - это полученный от vk.com токен
* вызовите метод  apiTo

    `$api->apiTo('wall','post')`, где первый аргумент - объект API (wall/market/user/likes etc), второй - метод объекта (post/delete/search etc). Ознакомиться с объектами и методами API vk.com можно на их официальном сайте, в разделе со списком методов https://vk.com/dev/methods

* некоторые методы vk требуют указать "владельца" запроса. Например, если владельцем указана группа, то метод wall/post разместит пост на странице группы; если владелец - пользователь, то на стене данного пользователя. Указать данный параметр можно с помощью метода from:

    `$api->from('group', 19833000)`, если действие нужно совершить от имени группы, первым параметров укажите 'group', вторым - ID группы. Если от имени человека, то укажите первым параметром пустую строку '', вторым - свой ID 

* далее, пользуясь сеттерами, имена которых совпадают с аргументами методов vk.com, установите необходимую информацию

* после указания всех параметров, вызовите метод `$api->execute` для получения возврата результата

### Пример запроса
       // вызываем метод wall/post
      $result = $this->api->apiTo('wall','post')
      
            // будем отправлять в группу 19833000
           ->owner('group', 19833000)
           
            // сообщение поста (string)
            ->message($message)
            
            // массив изображений
            ->images($images)
            
            // от имени группы (не администратора)
            ->fromGroup(1)
            
            // получить результат
            ->execute();

### Дополнительная информация

#### ImageUploaders
В vk.com довольно мудреный процесс аплоада фотографий и прочих ресурсов, поэтому для каждого билдера (равно метода вк), которому требуется загрузка ресурсов на сервера vk, создан абстрактный класс ImageUploader с частичной реализацией интерфейса загрузки изображений.
 
 Так как каждый метод, допускающий загрузку изображений, предполагает свои особенности при загрузке, для таких методов нужно реализовать не только Builder-класс, но и ImageUploader-класс (в директории ImageUploader), который должен расширять абстрактный класс ImageUploader.
 
 #### Configurator
 
 Также в модуле реализован "конфигуратор" - класс VKExPost\Configurator со статическими методами для упрощения получения токена
 
  Получить токен полностью автоматически невозможно из соображений безопасности, поэтому нам в любом случае придется перейти по предложенной вк ссылке и скопировать выданный токен из url, но для облегчения этого процесса существует два метода:
 
 `Configurator::getAuthorizeUrl(int application_id, string $scope);`
 
 
 Принимает первым аргументов id вашего приложения (без него автопостинг невозможен), вторым параметров - scope разрешений, для которых выдается токен, например 'wall, offline,photos,market' (более подробно https://vk.com/dev/permissions).
 
  Возвращает ссылку, по которой необходимо перейти для получения токена. 
 
 `Configurator::getDataFromAuthorizeUrl(string $tokenUrl);`

 Принимает строку-url, которую отдал вк после перехода по authorizeUrl.
 
 Возвращает распарсенный массив. Ключ доступа доступен по ключу `result['access_token']`
